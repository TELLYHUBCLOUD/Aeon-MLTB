
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../FEATURES/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Extras - Aeon-MLTB Bot</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-google-oauth-api-credential-file-and-tokenpickle" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Aeon-MLTB Bot" class="md-header__button md-logo" aria-label="Aeon-MLTB Bot" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Aeon-MLTB Bot
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Extras
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Aeon-MLTB Bot" class="md-nav__button md-logo" aria-label="Aeon-MLTB Bot" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Aeon-MLTB Bot
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../COMMANDS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Commands
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../CONFIGURATIONS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configurations
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../DEPLOYMENT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deployment
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../FEATURES/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Extras
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Extras
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-google-oauth-api-credential-file-and-tokenpickle" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Google OAuth API credential file and token.pickle
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-rcloneconf" class="md-nav__link">
    <span class="md-ellipsis">
      Generating rclone.conf
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upload-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Upload Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upstream_repo-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      UPSTREAM_REPO (Recommended)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bittorrent-seed-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      BitTorrent Seed Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BitTorrent Seed Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qbittorrent" class="md-nav__link">
    <span class="md-ellipsis">
      QBittorrent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aria2c" class="md-nav__link">
    <span class="md-ellipsis">
      Aria2c
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-service-accounts-for-uploading-to-avoid-user-rate-limits" class="md-nav__link">
    <span class="md-ellipsis">
      Using Service Accounts for Uploading (to avoid user rate limits)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Service Accounts for Uploading (to avoid user rate limits)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-generate-service-accounts-what-is-a-service-account" class="md-nav__link">
    <span class="md-ellipsis">
      1. Generate Service Accounts. (What is a Service Account?)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Generate Service Accounts. (What is a Service Account?)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-create-service-accounts-in-an-existing-project-recommended-method" class="md-nav__link">
    <span class="md-ellipsis">
      Method 1: Create Service Accounts in an Existing Project (Recommended Method)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-2-create-service-accounts-in-new-project" class="md-nav__link">
    <span class="md-ellipsis">
      Method 2: Create Service Accounts in New Project
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-add-service-accounts" class="md-nav__link">
    <span class="md-ellipsis">
      2. Add Service Accounts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Add Service Accounts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-add-them-to-google-group-then-to-team-drive-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      Method 1: Add Them To Google Group then to Team Drive (Recommended)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-2-add-them-to-team-drive-directly" class="md-nav__link">
    <span class="md-ellipsis">
      Method 2: Add Them To Team Drive Directly
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-database" class="md-nav__link">
    <span class="md-ellipsis">
      Create Database
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multi-drive-list-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-Drive List Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yt-dlp-and-aria2c-authentication-using-netrc-file" class="md-nav__link">
    <span class="md-ellipsis">
      yt-dlp and Aria2c Authentication Using .netrc File
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-google-oauth-api-credential-file-and-tokenpickle" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Google OAuth API credential file and token.pickle
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-rcloneconf" class="md-nav__link">
    <span class="md-ellipsis">
      Generating rclone.conf
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upload-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Upload Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upstream_repo-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      UPSTREAM_REPO (Recommended)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bittorrent-seed-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      BitTorrent Seed Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BitTorrent Seed Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qbittorrent" class="md-nav__link">
    <span class="md-ellipsis">
      QBittorrent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aria2c" class="md-nav__link">
    <span class="md-ellipsis">
      Aria2c
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-service-accounts-for-uploading-to-avoid-user-rate-limits" class="md-nav__link">
    <span class="md-ellipsis">
      Using Service Accounts for Uploading (to avoid user rate limits)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Service Accounts for Uploading (to avoid user rate limits)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-generate-service-accounts-what-is-a-service-account" class="md-nav__link">
    <span class="md-ellipsis">
      1. Generate Service Accounts. (What is a Service Account?)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Generate Service Accounts. (What is a Service Account?)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-create-service-accounts-in-an-existing-project-recommended-method" class="md-nav__link">
    <span class="md-ellipsis">
      Method 1: Create Service Accounts in an Existing Project (Recommended Method)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-2-create-service-accounts-in-new-project" class="md-nav__link">
    <span class="md-ellipsis">
      Method 2: Create Service Accounts in New Project
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-add-service-accounts" class="md-nav__link">
    <span class="md-ellipsis">
      2. Add Service Accounts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Add Service Accounts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-add-them-to-google-group-then-to-team-drive-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      Method 1: Add Them To Google Group then to Team Drive (Recommended)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-2-add-them-to-team-drive-directly" class="md-nav__link">
    <span class="md-ellipsis">
      Method 2: Add Them To Team Drive Directly
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-database" class="md-nav__link">
    <span class="md-ellipsis">
      Create Database
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multi-drive-list-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-Drive List Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yt-dlp-and-aria2c-authentication-using-netrc-file" class="md-nav__link">
    <span class="md-ellipsis">
      yt-dlp and Aria2c Authentication Using .netrc File
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Extras</h1>

<h3 id="getting-google-oauth-api-credential-file-and-tokenpickle">Getting Google OAuth API credential file and token.pickle</h3>
<p><strong>NOTES:</strong>
- Authentication methods have changed; <code>token.pickle</code> can no longer be generated using the bot or Replit. You will need an operating system with a local web browser (e.g., Termux on Android, or a desktop OS).
- Windows users should install Python 3 and pip. Instructions can be found via a Google search or in Wiszky's Telegraph tutorial.
- The link generated by <code>generate_drive_token.py</code> <strong>must</strong> be opened in a local web browser.</p>
<ol>
<li>Visit the <a href="https://console.cloud.google.com/apis/credentials">Google Cloud Console</a>.</li>
<li>Go to the <strong>OAuth Consent Screen</strong> tab, fill in the required information, and save.</li>
<li>Go to the <strong>Credentials</strong> tab and click <strong>Create Credentials</strong> -&gt; <strong>OAuth client ID</strong>.</li>
<li>Choose <strong>Desktop app</strong> as the Application type and click <strong>Create</strong>.</li>
<li>Publish your OAuth consent screen app to prevent <code>token.pickle</code> from expiring. (Usually, an option like "Publish App" under the OAuth consent screen).</li>
<li>Use the download button (usually a JSON icon) next to your newly created OAuth client ID to download your credentials.</li>
<li>Move the downloaded file to the root directory of your mirrorbot instance and rename it to <code>credentials.json</code>.</li>
<li>Visit the <a href="https://console.cloud.google.com/apis/library">Google APIs Library</a>.</li>
<li>Search for "Google Drive API" and enable it for your project.</li>
<li>Finally, run the script to generate the <code>token.pickle</code> file for Google Drive:</li>
</ol>
<pre><code class="language-bash">pip3 install google-api-python-client google-auth-httplib2 google-auth-oauthlib
python3 generate_drive_token.py
</code></pre>
<h3 id="generating-rcloneconf">Generating <code>rclone.conf</code></h3>
<ol>
<li>Install Rclone from the <a href="https://rclone.org/install/">Official Site</a>.</li>
<li>Create new remote(s) using the <code>rclone config</code> command.</li>
<li>Copy <code>rclone.conf</code> from your system’s Rclone configuration directory into the repository root directory.</li>
</ol>
<h3 id="upload-configuration">Upload Configuration</h3>
<ul>
<li><code>RCLONE_PATH</code>, similar to <code>GDRIVE_ID</code>, defines a default path for mirrors.</li>
<li>
<p>Additionally, the <code>DEFAULT_UPLOAD</code> variable selects the default tool, either Rclone (<code>rc</code>) or the Google API Python client (<code>gd</code>).</p>
</li>
<li>
<p>If <code>DEFAULT_UPLOAD</code> is set to <code>'rc'</code>, you must provide <code>RCLONE_PATH</code> as the default, or use <code>rcl</code> in commands to select the destination path for each new task.</p>
</li>
<li>
<p>If <code>DEFAULT_UPLOAD</code> is set to <code>'gd'</code>, you must provide <code>GDRIVE_ID</code> with the Google Drive folder or Team Drive ID.</p>
</li>
<li>
<p><code>rclone.conf</code> can be added to the repository root directory (like <code>token.pickle</code>) before deployment, or uploaded as a private file using the <code>/bsetting</code> command.</p>
</li>
<li>If <code>rclone.conf</code> is uploaded via <code>/usetting</code> or placed in <code>rclone/{user_id}.conf</code>, then any Rclone path specified in commands or <code>RCLONE_PATH</code> must be prefixed with <code>mrcc:</code>.</li>
<li>When manually specifying a path to use a user-specific <code>rclone.conf</code> (added via <code>/usetting</code>), prefix the path with <code>mrcc:</code>.</li>
</ul>
<p>In summary, the <code>up:</code> parameter in commands can have the following values:
- <code>gd</code>: Upload to the <code>GDRIVE_ID</code> specified in your configuration.
- <code>rc</code>: Upload to the <code>RCLONE_PATH</code> specified in your configuration.
- <code>rcl</code>: Select an Rclone path at the time of the task.
- <code>rclone_path</code>: A specific Rclone path, e.g., <code>myremote:path</code> (uses owner's <code>rclone.conf</code>) or <code>mrcc:myremote:path</code> (uses user's <code>rclone.conf</code>).</p>
<h3 id="upstream_repo-recommended"><code>UPSTREAM_REPO</code> (Recommended)</h3>
<p>The <code>UPSTREAM_REPO</code> variable can be used to edit or add any file in the repository.</p>
<ul>
<li>You can add a private or public repository link to fetch or overwrite all files from it.</li>
<li>You can skip adding private files like <code>token.pickle</code> or the <code>accounts</code> folder before deploying; simply fill <code>UPSTREAM_REPO</code> with a private repository link if you want to fetch all files, including private ones.</li>
<li>If you add private files during deployment AND you've also specified a private <code>UPSTREAM_REPO</code> containing those same private files, the files from the <code>UPSTREAM_REPO</code> will overwrite those added during deployment.</li>
<li>Furthermore, if you are using a database for private files, those files will override any added before deployment or from a private <code>UPSTREAM_REPO</code>.</li>
<li>If you fill <code>UPSTREAM_REPO</code> with the official repository link, be careful: if there are changes in <code>requirements.txt</code> in the official repository, your bot might not start after a restart. In this case, you need to deploy again with updated code to install the new requirements or simply change <code>UPSTREAM_REPO</code> to your fork's link with the older (compatible) updates.</li>
<li>If you fill <code>UPSTREAM_REPO</code> with your fork's link, also be careful when fetching commits from the official repository, as changes there might affect your bot.</li>
<li>Changes from your <code>UPSTREAM_REPO</code> will take effect only after a restart of the bot.</li>
</ul>
<h3 id="bittorrent-seed-configuration">BitTorrent Seed Configuration</h3>
<p>Using the <code>-d</code> argument (or equivalent seeding options in commands) alone will lead to using global options for Aria2c or qBittorrent.</p>
<h4 id="qbittorrent">QBittorrent</h4>
<p>Global options: <code>GlobalMaxRatio</code> and <code>GlobalMaxSeedingMinutes</code> in <code>qbittorrent.conf</code>. A value of <code>-1</code> means no limit, but you can cancel seeding manually.</p>
<p>NOTE: Do not change <code>MaxRatioAction</code>.</p>
<h4 id="aria2c">Aria2c</h4>
<p>Global options: <code>--seed-ratio</code> (a value of <code>0</code> means no limit) and <code>--seed-time</code> (a value of <code>0</code> means no seeding after download completion) in <code>aria.sh</code>.</p>
<h3 id="using-service-accounts-for-uploading-to-avoid-user-rate-limits">Using Service Accounts for Uploading (to avoid user rate limits)</h3>
<blockquote>
<p>For Service Accounts to work, you must set <code>USE_SERVICE_ACCOUNTS = "True"</code> (as a string) in your configuration file or environment variables. NOTE: Using Service Accounts is primarily recommended when uploading to a Team Drive.</p>
</blockquote>
<h4 id="1-generate-service-accounts-what-is-a-service-account">1. Generate Service Accounts. (<a href="https://cloud.google.com/iam/docs/service-accounts">What is a Service Account?</a>)</h4>
<p>Let us create only the Service Accounts that we need. Warning: Abuse of this feature is not the aim of this project, and we do NOT recommend creating many projects. Just one project with 100 SAs allows for plenty of use. It's also possible that excessive abuse might get your projects banned by Google.</p>
<blockquote>
<p>NOTE: If you have created SAs in the past using this script, you can re-download the keys by running:</p>
</blockquote>
<pre><code class="language-bash">python3 gen_sa_accounts.py --download-keys $PROJECTID
</code></pre>
<blockquote>
<p>NOTE: One Service Account can upload/copy approximately 750 GB per day. One Google Cloud project can create up to 100 Service Accounts, allowing for a potential daily upload capacity of 75 TB.</p>
<p>NOTE: Google Drive users can typically copy 2TB/DAY from files created by a single uploader account. If you encounter a <code>userRateLimitExceeded</code> error, it doesn't necessarily mean <em>your</em> limit was exceeded, but rather that the <em>file creator's</em> daily sharing/download limit (2TB/DAY) for that specific file has been reached for others.</p>
</blockquote>
<p>Two methods to create Service Accounts:</p>
<h5 id="method-1-create-service-accounts-in-an-existing-project-recommended-method">Method 1: Create Service Accounts in an Existing Project (Recommended Method)</h5>
<p>List your projects ids:</p>
<pre><code class="language-bash">python3 gen_sa_accounts.py --list-projects
</code></pre>
<p>Enable services automatically by this command:</p>
<pre><code class="language-bash">python3 gen_sa_accounts.py --enable-services $PROJECTID
</code></pre>
<p>Create Service Accounts to current project:</p>
<pre><code class="language-bash">python3 gen_sa_accounts.py --create-sas $PROJECTID
</code></pre>
<p>Download Service Accounts as accounts folder:</p>
<pre><code class="language-bash">python3 gen_sa_accounts.py --download-keys $PROJECTID
</code></pre>
<h5 id="method-2-create-service-accounts-in-new-project">Method 2: Create Service Accounts in New Project</h5>
<pre><code class="language-bash">python3 gen_sa_accounts.py --quick-setup 1 --new-only
</code></pre>
<p>A folder named accounts will be created which will contain keys for the Service Accounts.</p>
<h4 id="2-add-service-accounts">2. Add Service Accounts</h4>
<p>Two methods to add service accounts:</p>
<h5 id="method-1-add-them-to-google-group-then-to-team-drive-recommended">Method 1: Add Them To Google Group then to Team Drive (Recommended)</h5>
<p>Mount accounts folder:</p>
<pre><code class="language-bash">cd accounts
</code></pre>
<p>Grab emails from all accounts into an <code>emails.txt</code> file that will be created in the <code>accounts</code> folder:</p>
<p>For Windows using PowerShell:</p>
<pre><code class="language-powershell">$emails = Get-ChildItem .\**.json |Get-Content -Raw |ConvertFrom-Json |Select -ExpandProperty client_email &gt;&gt;emails.txt
</code></pre>
<p>For Linux:</p>
<pre><code class="language-bash">grep -oPh '&quot;client_email&quot;: &quot;\K[^&quot;]+' *.json &gt; emails.txt
</code></pre>
<p>Navigate out of the <code>accounts</code> folder:</p>
<pre><code class="language-bash">cd ..
</code></pre>
<p>Then add the emails from <code>emails.txt</code> to a Google Group. After that, add this Google Group to your Shared Drive and promote the group to "Manager". Finally, you can delete the <code>emails.txt</code> file from the <code>accounts</code> folder.</p>
<h5 id="method-2-add-them-to-team-drive-directly">Method 2: Add Them To Team Drive Directly</h5>
<p>Run:</p>
<pre><code class="language-bash">python3 add_to_team_drive.py -d SharedTeamDriveSrcID
</code></pre>
<h3 id="create-database">Create Database</h3>
<ol>
<li>Go to https://mongodb.com/ and sign-up.</li>
<li>Create Shared Cluster.</li>
<li>Press on <strong>Database</strong> under the <strong>Deployment</strong> header; your created cluster will be listed there.</li>
<li>Press <strong>Connect</strong> for your cluster, choose <strong>Allow Access From Anywhere</strong>, and press <strong>Add IP Address</strong> (without editing the IP unless necessary). Then, create a database user.</li>
<li>After creating the user, press <strong>Choose a connection method</strong>, then select <strong>Connect your application</strong>. Choose <strong>Python</strong> as your driver and version <strong>3.12 or later</strong>.</li>
<li>Copy your connection string. Replace <code>&lt;password&gt;</code> with the password of the user you created. Then, press <strong>Close</strong>.</li>
</ol>
<h3 id="multi-drive-list-configuration">Multi-Drive List Configuration</h3>
<p>To use a list from multiple Team Drives or folders, run <code>driveid.py</code> in your terminal and follow the prompts. It will generate a <code>list_drives.txt</code> file, or you can simply create <code>list_drives.txt</code> in the working directory and fill it according to the format below:</p>
<pre><code>DriveName folderID/tdID or `root` IndexLink(if available)
DriveName folderID/tdID or `root` IndexLink(if available)
</code></pre>
<p>Example:</p>
<pre><code>TD1 root https://example.dev
TD2 0AO1JDB1t3i5jUk9PVA https://example.dev
</code></pre>
<h3 id="yt-dlp-and-aria2c-authentication-using-netrc-file">yt-dlp and Aria2c Authentication Using <code>.netrc</code> File</h3>
<p>For using your premium accounts in yt-dlp or for accessing password-protected Index Links with Aria2c, create a <code>.netrc</code> file in the repository root with the following format:</p>
<p>Note: Create a file named <code>.netrc</code> (starting with a dot). This file will be hidden on Unix-like systems, so ensure your file explorer is set to show hidden files if you need to edit it after creation.</p>
<p>Format:</p>
<pre><code>machine host login username password my_password
</code></pre>
<p>Using Aria2c you can also use built in feature from bot with or without username. Here example for index link without username.</p>
<pre><code>machine example.workers.dev password index_password
</code></pre>
<p>Where <code>host</code> is the name of the extractor (e.g., <code>instagram</code>, <code>twitch</code>, or the hostname of the protected index). Multiple accounts for different hosts can be added, each on a new line.</p>
<p>yt-dlp: Authentication using <code>cookies.txt</code> file. It's recommended to CREATE THIS FILE IN AN INCOGNITO/PRIVATE BROWSER TAB to avoid exporting personal cookies.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>